<!doctype html>
<label>ある支出に必要な売上（円）</label>
<input id="needSales" type="text" inputmode="numeric" placeholder="例）8,333,333" oninput="fmtNum(this)"/>
</div>
</div>
<div class="grid-3">
<div>
<label>自動化で削減見込（時間/月）</label>
<input id="hrs" type="number" inputmode="decimal" placeholder="例）25"/>
</div>
<div>
<label>1分あたり人件費（円）</label>
<input id="ppm" type="text" inputmode="numeric" placeholder="例）50" oninput="fmtNum(this)"/>
</div>
<div>
<label>利益インパクト/月（円）</label>
<input id="impact" type="text" inputmode="numeric" placeholder="自動計算" readonly />
</div>
</div>
<div class="cta-row">
<button class="btn" onclick="calcImpact()">利益インパクトを再計算</button>
<button class="btn" onclick="window.print()">印刷 / PDF保存</button>
</div>
<p class="note">※提出用PDFにはこのブロックのみが綺麗に出力されます（印刷時はA4縦・余白を“最小”に設定推奨）。</p>
</section>


<!-- 予約（Calendly/Google 予定枠） -->
<section id="booking" class="panel">
<h2>30分無料相談のご予約</h2>
<p class="note">下の「今すぐ予約」から日程をご指定ください。Web会議/来所どちらでも可。</p>
<div class="cta-row no-print">
<a class="btn primary" id="calBtn" href="https://calendly.com/your-slug/30min" target="_blank">今すぐ予約（外部）</a>
<a class="btn" href="#lead">メールで連絡する</a>
</div>
<div class="note">※貴社の予約URLに差し替えてください（`#calBtn` の `href`）。Googleカレンダーの「予約スケジュール」でも可。</div>
</section>


<!-- 最小フォーム（Formspree等に差し替え） -->
<section id="lead" class="panel">
<h2>結果PDFの受け取り（最小フォーム）</h2>
<form id="leadForm" method="POST" action="https://formspree.io/f/xxxxreplace" class="grid-2" onsubmit="return confirmSubmit()">
<div>
<label>会社名（必須）</label>
<input name="company" required placeholder="例）株式会社〇〇" />
</div>
<div>
<label>メール（必須）</label>
<input name="email" type="email" required placeholder="例）xxx@example.co.jp" />
</div>
<input type="hidden" name="memo_gm" id="h_gm" />
<input type="hidden" name="memo_fc" id="h_fc" />
<input type="hidden" name="memo_need_sales" id="h_need" />
<input type="hidden" name="memo_impact" id="h_imp" />
<button class="btn primary" type="submit">PDFをメールで受け取る</button>
</form>
<p class="note">※送信先（Formspree など）のエンドポイントを差し替えてください。GAS（Apps Script）で自動返信・PDF添付も可能。</p>
</section>


<section class="panel legal">
<strong>免責</strong>：本LPは体験の呼び水を目的とした一般的な情報提供です。実際の数値・施策は業種や個社事情により異なります。正式な助言は面談にて行います。
</section>


<div class="sticky-cta no-print">
<div class="cta-row">
<a class="btn primary" href="#booking">30分無料相談を予約</a>
<a class="btn" href="#summary">体験結果をPDFに保存</a>
</div>
</div>
</div>


<!-- 埋め込み用モーダル（β） -->
<div id="embedModal" class="hide" style="position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;padding:10px;z-index:50">
<div style="background:#fff;max-width:980px;width:100%;height:85vh;border-radius:12px;overflow:hidden;display:flex;flex-direction:column;border:1px solid rgba(0,0,0,.15)">
<div style="padding:8px 10px;display:flex;gap:8px;align-items:center;border-bottom:1px solid rgba(0,0,0,.06)">
<strong style="flex:1">ツールをページ内で試す（β）</strong>
<button class="btn" onclick="closeEmbed()">閉じる</button>
<a id="openNew" class="btn primary" target="_blank">新規タブで開く</a>
</div>
<iframe id="embedFrame" src="about:blank" style="width:100%;height:100%;border:0"></iframe>
</div>
</div>


<script>
const fmtNum=(el)=>{const v=el.value.replace(/[^0-9.-]/g,'');if(v===''||isNaN(Number(v)))return;el.value=Number(v).toLocaleString()};
const calcImpact=()=>{const hrs=parseFloat(document.getElementById('hrs').value||'0');const ppm=Number((document.getElementById('ppm').value||'').replace(/[^0-9.-]/g,''))||0;const yen=hrs*60*ppm;document.getElementById('impact').value=yen?yen.toLocaleString():'';syncHidden()};
const syncHidden=()=>{const gm=document.getElementById('gm').value;const fc=(document.getElementById('fc').value||'').replace(/[^0-9.-]/g,'');const need=(document.getElementById('needSales').value||'').replace(/[^0-9.-]/g,'');const imp=(document.getElementById('impact').value||'').replace(/[^0-9.-]/g,'');
document.getElementById('h_gm').value=gm;document.getElementById('h_fc').value=fc;document.getElementById('h_need').value=need;document.getElementById('h_imp').value=imp;};
['gm','fc','needSales','impact'].forEach(id=>{const el=document.getElementById(id);if(el)el.addEventListener('input',syncHidden)});
const openEmbed=(url)=>{document.getElementById('embedFrame').src=url;document.getElementById('openNew').href=url;document.getElementById('embedModal').classList.remove('hide')};
const closeEmbed=()=>{document.getElementById('embedFrame').src='about:blank';document.getElementById('embedModal').classList.add('hide')};
const confirmSubmit=()=>{syncHidden();return confirm('PDF送付をリクエストします。よろしいですか？');};
</script>
</body>
</html>
